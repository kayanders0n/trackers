SET TERM !! ;

CREATE OR ALTER TRIGGER AUTHOR_INSERT FOR AUTHOR
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
  IF (NEW.ORDERID IS NULL) THEN NEW.ORDERID = 0;

  IF (NEW.TITLEID IS NULL) THEN EXCEPTION FIELD_REQUIRED 'TitleId is required.';
  IF (NEW.PEOPLEID IS NULL) THEN EXCEPTION FIELD_REQUIRED 'PeopleId is required.';
END
^

/* Trigger: AUTHOR_UPDATE */
CREATE OR ALTER TRIGGER AUTHOR_UPDATE FOR AUTHOR
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
  IF (NEW.ORDERID IS NULL) THEN NEW.ORDERID = 0;

  IF (NEW.TITLEID IS DISTINCT FROM OLD.TITLEID) THEN EXCEPTION GOT_HERE 'Cannot change TitleId.';
  IF (NEW.PEOPLEID IS DISTINCT FROM OLD.PEOPLEID) THEN EXCEPTION GOT_HERE 'Cannot change PeopleId.';
END
!!

SET TERM ; !!