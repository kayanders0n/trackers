SET TERM !! ;

CREATE OR ALTER TRIGGER TITLE_DELETE FOR TITLE
ACTIVE BEFORE DELETE POSITION 0
AS
BEGIN
  IF (
      (EXISTS(SELECT 1 FROM ACTIVITY WHERE TITLEID = OLD.ID)) OR 
      (EXISTS(SELECT 1 FROM AUTHOR WHERE TITLEID = OLD.ID)) OR 
      (EXISTS(SELECT 1 FROM PLATFORM WHERE TITLEID = OLD.ID)) OR 
      (EXISTS(SELECT 1 FROM PRODUCTION WHERE TITLEID = OLD.ID)) OR 
      (EXISTS(SELECT 1 FROM TITLEGENRE WHERE TITLEID = OLD.ID)) OR 
      (EXISTS(SELECT 1 FROM USERLISTITEMS WHERE TITLEID = OLD.ID)))
    THEN EXCEPTION DATA_LINKED 'This title has linked records and cannot be deleted.';
END
!!

SET TERM ; !!