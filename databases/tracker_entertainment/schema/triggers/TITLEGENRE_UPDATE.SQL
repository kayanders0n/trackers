SET TERM !! ;

CREATE OR ALTER TRIGGER TITLEGENRE_UPDATE FOR TITLEGENRE
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
  IF (NEW.ORDERID IS NULL) THEN NEW.ORDERID = 0;

  IF (NEW.TITLEID IS DISTINCT FROM OLD.TITLEID) THEN EXCEPTION GOT_HERE 'Cannot change TitleId.';
  IF (NEW.GENREID IS DISTINCT FROM OLD.GENREID) THEN EXCEPTION GOT_HERE 'Cannot change GenreId.';
END
!!

SET TERM ; !!